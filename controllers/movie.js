//////////////////////////////////////////////////////////////////////////////////
// DEPENDENCIES
//////////////////////////////////////////////////////////////////////////////////
const express = require("express")
const Movie = require("../models/Movie.js")


//////////////////////////////////////////////////////////////////////////////////
// ROUTER
//////////////////////////////////////////////////////////////////////////////////
const router = express.Router()


//////////////////////////////////////////////////////////////////////////////////
// MIDDLEWARE
//////////////////////////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////////////////////////////
// ROUTES
//////////////////////////////////////////////////////////////////////////////////
// SEED
router.get("/seed", async (req, res) => {
    try{
        const startMovie = [
            { Title: "Autobiography 1", Year: 2024, Released: "01 Jan 2024", Actors: "Daniel Ji, Dan Ji", Plot: "The main character, Daniel Ji, shows off his hot mess of a life", Poster: "https://i.imgur.com/hXZxSmM.png"}
        ]
        await Movie.deleteMany({})
        const movies = await Movie.create(startMovie)
        res.json(movies)
    } catch(error){
        console.log(error.message)
        res.send("There was an error, read logs for error details")
    }
})



//////////////////////////////////////////////////////////////////////////////////
// EXPORT ROUTER
//////////////////////////////////////////////////////////////////////////////////
module.exports = router